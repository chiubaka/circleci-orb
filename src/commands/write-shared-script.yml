description: >
  This command writes shared scripts to disc so they can be consumed by other scripts

parameters:
  script-dir:
    type: string
    default: ~/@chiubaka/circleci-orb/scripts
    description: Path to the directory to write shared scripts to.
  script-name:
    type: string
    description: Name of the script to write
  script:
    type: string
    description: The script to write. Should be included here using the << include(...) >> directive.

steps:
  - run:
      name: Write << parameters.script-name >> to disc
      command: mkdir -p << parameters.script-dir >> echo "$SCRIPT" > << parameters.script-dir >>/<< parameters.script-name >>
      environment:
        SCRIPT: << parameters.script >>
